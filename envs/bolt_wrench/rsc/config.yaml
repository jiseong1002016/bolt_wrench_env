seed: 1
record_video: true

environment:
  render: true
  render_port: 8080
  launch_unity: true
  unity_bin: /home/Jiseong/raisim_ws/raisimlib/raisimUnity/linux/raisimUnity.x86_64
  unity_gui_settings: /home/Jiseong/raisim_ws/raisimlib/raisimUnity/linux/gui_settings.xml
  num_envs: 1
  eval_every_n: 50
  num_threads: 1
  
  # simulation settings
  # NOTE: If simulation_dt increases, scale kp ~ 1/dt^2 and kd ~ 1/dt for stability.
  simulation_dt: 0.00125 # recommended: 0.0012~0.0014 (Environment.hpp: world_->setTimeStep)
  control_dt: 0.01 # 0.01 (Environment.hpp: control_dt_ loop)
  state_lpf_cutoff_hz: 15.0 # recommended: 10~20 Hz (Environment.hpp: state LPF)
  max_total_steps: 200000  # runner.py: max_updates, demo_generator.py: episode_steps default
  gravity_compensation: true

  # Gains (current) - if simulation_dt increases, scale kp ~ 1/dt^2 and kd ~ 1/dt.
  active_kp: 0.1  # Environment.hpp: joint PD gains (idx_gv_7/14)
  active_kd: 0.05  # Environment.hpp: joint PD gains (idx_gv_7/14)
  base_force_pos_kp: 1000.0  #10000.0 # Environment.hpp: external force PD (position)
  base_force_pos_kd: 500.0   #1000.0 # Environment.hpp: external force PD (position)
  base_force_pos_ki: 1000.0    # Environment.hpp: external force PI(D) (position)
  base_force_pos_i_max: 5.0 # Environment.hpp: clamp for position integral term
  base_force_rot_kp: 10.0  # Environment.hpp: external torque PD (rotation)
  base_force_rot_kd: 1.0   # Environment.hpp: external torque PD (rotation)
  base_force_rot_ki: 100.0   # Environment.hpp: external torque PI(D) (rotation)
  base_force_rot_i_max: 5.0 # Environment.hpp: clamp for rotation integral term
  base_force_max: 40.0     # Environment.hpp: cap on external base force
  base_torque_max: 20.0    # Environment.hpp: cap on external base torque
  base_wrench_lpf_cutoff_hz: 15.0   # UtilityFunctions: wrench LPF cutoff
  base_wrench_slew_force: 200.0     # UtilityFunctions: wrench slew limit (N/s)
  base_wrench_slew_torque: 200.0    # UtilityFunctions: wrench slew limit (Nm/s)
  kp_gear: 10.0 # Environment.hpp: gear coupling torque
  kd_gear: 0.1    # Environment.hpp: gear coupling torque


  # action scaling
  action_scale: 1.0
  action_rot_scale: 1.0

  # command mode
  use_action_command: false
  command_mode: grasp  # sine | grasp
  grasp_gc14_start: 0.6
  grasp_gc14_target: 0.133 # 0.1337
  grasp_approach_duration: 3.0
  grasp_gc14_duration: 3.0
  grasp_move_duration: 10.0
  grasp_rotate_duration: 5.0
  grasp_rotate_radius: 0.5
  # Feedforward torques applied via tau_total during grasp (t < t3)
  gf_6: 1.0
  gf_13: -1.0
  
  # [사용자님의 커스텀 파라미터 추가]
  thread_pitch: 0.01     # 기존 값 0.01 적용
  pris_joint_index: 0
  
  # 초기 자세 (Grasping Initial Config)
  ee_01_left_gc: 0
  ee_02_right_gc: 0.5 # 0 
  
  # 상시 적용 힘 (Constant Grasping Force)
  # 주석에 있던 계산식(68.0 * 0.3) 등은 미리 계산해서 넣거나 C++에서 처리
  ee_01_left_gf: 0.0
  ee_02_right_gf: 0.0 
  
  # Wrench 고정 위치/자세 (End-effector 기준, quaternion은 w x y z)
  wrench_offset: [0.0, 0.0, -0.166]
  wrench_quat: [1.0, 0.0, 0.0, 0.0]

  # PPO 학습 설정
  learning_rate: 3e-4
  n_steps: 200
  n_minibatch: 4
  n_epoch: 4
  gamma: 0.995
  lam: 0.95
  mini_batch_size: 256

architecture:
  policy_net: [128, 128]
  value_net: [128, 128]
